--- !tapi-tbd-v2
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/KeyboardServices.framework/KeyboardServices
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _KSCKErrorDomain, _KSCloudKitAccountDidChange,
                            _KSCloudKitAccountDidChangeAccountChangedKey,
                            _KSCloudKitAccountDidChangeDeviceToDeviceKey,
                            _KSCloudKitAccountDidChangeStatusKey,
                            _KSCloudKitAccountDidChangeUserChangedKey,
                            _KSCloudKitAccountDidSuccessfullyCreateZone,
                            _KSCloudKitIdentitiesDidChange,
                            _KSDeviceProtectionClassDidChange,
                            _KSTextReplacementDidChangeNotification,
                            _KeyboardServicesVersionNumber,
                            _KeyboardServicesVersionString,
                            __KSDevicesMigrationStateDidChange, __KSGetSetting,
                            __KSReachabilityDidChange,
                            __KSTIBuddySetupDidFinishNotification_Private,
                            __KSTRCKStoreDidReceiveChangesNotification,
                            __KSTRLegacyStoreDidImportChangesNotification,
                            __KSTRLegacyStoreDidImportUbiquitousChanges,
                            __KSTRShouldCleanupResources,
                            __KSTextReplacementDeleteDidFailEntriesKey,
                            __KSTextReplacementDeleteDidFailErrorsKey,
                            __KSTextReplacementEntryDidFailErrorKey,
                            __KSTextReplacementErrorDomain,
                            __KSTextReplacementServerInterface,
                            __KSTextReplacementUpdateDidFailEntriesKey,
                            __KSTextReplacementUpdateDidFailErrorsKey,
                            __KSUserWordsWereDownloadedFilesKey,
                            __KSUserWordsWereDownloadedLanguageKey,
                            __KSUserWordsWereDownloadedNotification,
                            _dataModelName, _kKSApplePreferencesDomain,
                            _kKeyboardServicesCloudKitContainerID,
                            _kMaxOperationRetryCount, _kMaxTextReplacementLength,
                            _kRetryWaitInSeconds, _kTextReplacementEntitlement,
                            _kiOSMajorVersForCloudKitSync,
                            _kiOSMinorVersForCloudKitSync,
                            _kosxMajorVersForCloudKitSync,
                            _kosxMinorSubversionForCloudKitSync,
                            _kosxMinorVersForCloudKitSync,
                            _ksDefaultDateNormalise, _ksDefaultEnabled,
                            _ksDefaultPullTime, _ksDefaultPushTime,
                            _ksDefaultSaveDynamicData,
                            _ksDefaultSaveLanguageModel, _ksDefaultSizeNormalise,
                            _ksDefaultSortDynamicData,
                            _ksDefaultSortLanguageModel ]
    objc-classes:         [ _ArraySlice, _ArraySlicer, __KSAggdLogger,
                            __KSCKSyncStateManagedObject, __KSCloudKitManager,
                            __KSControlFileController, __KSDeviceInfo,
                            __KSDeviceStateMonitor, __KSFileDirectory,
                            __KSFileEntry, __KSFileFile, __KSReachabilityMonitor,
                            __KSRequestThrottle, __KSSystemTask,
                            __KSTIUserDictionaryEntryValue,
                            __KSTIUserDictionaryTransaction, __KSTRClient,
                            __KSTaskScheduler, __KSTextReplacementCKStore,
                            __KSTextReplacementClientStore,
                            __KSTextReplacementCoreDataStore,
                            __KSTextReplacementEntry, __KSTextReplacementHelper,
                            __KSTextReplacementLegacyStore,
                            __KSTextReplacementManagedObject,
                            __KSTextReplacementManager,
                            __KSTextReplacementServer,
                            __KSTextReplacementServerConnection,
                            __KSUserWordsInfo, __KSUserWordsSynchroniser,
                            __KSUserWordsSynchroniserCloudKitManager,
                            __KSUtilities, __KSiCloudDeviceListMonitor ]
    objc-ivars:           [ _ArraySlice._array, _ArraySlice._count,
                            _ArraySlice._offset, _ArraySlicer._array,
                            _ArraySlicer._count, _ArraySlicer._offset,
                            _ArraySlicer._sliceSize,
                            __KSCloudKitManager._accountChangeThrottle,
                            __KSCloudKitManager._ckWorkQueue,
                            __KSCloudKitManager._cloudKitContainer,
                            __KSCloudKitManager._cloudKitDatabase,
                            __KSCloudKitManager._dataQueue,
                            __KSCloudKitManager._delegate,
                            __KSCloudKitManager._fetchZoneThrottle,
                            __KSCloudKitManager._lastKnownUserKey,
                            __KSCloudKitManager._publicDatabase,
                            __KSCloudKitManager._recordZone,
                            __KSCloudKitManager._recordZoneKey,
                            __KSCloudKitManager._recordZoneOperationInProgress,
                            __KSCloudKitManager._subscriptionKey,
                            __KSCloudKitManager._subscriptionOperationInProgress,
                            __KSControlFileController._url,
                            __KSDeviceInfo._model,
                            __KSDeviceInfo._modelDisplayName,
                            __KSDeviceInfo._name, __KSDeviceInfo._needsUpdate,
                            __KSDeviceInfo._swVersion,
                            __KSDeviceStateMonitor._isContentProtectionAvailable,
                            __KSFileDirectory._contents,
                            __KSFileEntry._extendedAttributes,
                            __KSFileEntry._fileArray, __KSFileEntry._fileBlob,
                            __KSFileEntry._name, __KSFileEntry._tempFiles,
                            __KSFileFile._lastModified, __KSFileFile._offset,
                            __KSFileFile._protectionClass, __KSFileFile._size,
                            __KSFileFile._url,
                            __KSReachabilityMonitor._isInternetReachable,
                            __KSReachabilityMonitor._queue,
                            __KSReachabilityMonitor._reachabilityRef,
                            __KSRequestThrottle._curveFunction,
                            __KSRequestThrottle._debugIdentifier,
                            __KSRequestThrottle._maximum,
                            __KSRequestThrottle._queue,
                            __KSRequestThrottle._request,
                            __KSRequestThrottle._retryCount,
                            __KSSystemTask._checkInTime,
                            __KSSystemTask._executionCriteria,
                            __KSSystemTask._handler, __KSSystemTask._maxRunTime,
                            __KSSystemTask._name, __KSSystemTask._periodSeconds,
                            __KSSystemTask._queue,
                            __KSTIUserDictionaryEntryValue._phrase,
                            __KSTIUserDictionaryEntryValue._shortcut,
                            __KSTIUserDictionaryEntryValue._timestamp,
                            __KSTIUserDictionaryTransaction._valueToDelete,
                            __KSTIUserDictionaryTransaction._valueToInsert,
                            __KSTRClient._generation,
                            __KSTRClient._hasReadAccess, __KSTRClient._owner,
                            __KSTaskScheduler._allTasks,
                            __KSTextReplacementCKStore._ckMigrationStatusOnCloud,
                            __KSTextReplacementCKStore._cloudKitManager,
                            __KSTextReplacementCKStore._coreDataStore,
                            __KSTextReplacementCKStore._dataQueue,
                            __KSTextReplacementCKStore._numPullRequests,
                            __KSTextReplacementCKStore._syncQueue,
                            __KSTextReplacementClientStore._connection,
                            __KSTextReplacementCoreDataStore._directoryPath,
                            __KSTextReplacementCoreDataStore._managedObjectContext,
                            __KSTextReplacementCoreDataStore._managedObjectModel,
                            __KSTextReplacementCoreDataStore._persistentStoreCoordinator,
                            __KSTextReplacementCoreDataStore._queueMOC,
                            __KSTextReplacementCoreDataStore._queuePSC,
                            __KSTextReplacementEntry._cloudData,
                            __KSTextReplacementEntry._cloudID,
                            __KSTextReplacementEntry._needsSaveToCloud,
                            __KSTextReplacementEntry._phrase,
                            __KSTextReplacementEntry._priorValue,
                            __KSTextReplacementEntry._shortcut,
                            __KSTextReplacementEntry._timestamp,
                            __KSTextReplacementEntry._wasDeleted,
                            __KSTextReplacementLegacyStore._baseURL,
                            __KSTextReplacementLegacyStore._cacheFilePath,
                            __KSTextReplacementLegacyStore._didScheduleCacheUpdate,
                            __KSTextReplacementLegacyStore._forceMaintenance,
                            __KSTextReplacementLegacyStore._importedSinceMaintenance,
                            __KSTextReplacementLegacyStore._lastMaintenanceDate,
                            __KSTextReplacementLegacyStore._managedObjectContext,
                            __KSTextReplacementLegacyStore._minimumUptimeDidExpire,
                            __KSTextReplacementLegacyStore._pendingSampleShortcutImport,
                            __KSTextReplacementLegacyStore._persistentStore,
                            __KSTextReplacementLegacyStore._persistentStoreCoordinator,
                            __KSTextReplacementLegacyStore._persistentStoreDidLoadTime,
                            __KSTextReplacementLegacyStore._shouldDisableCaching,
                            __KSTextReplacementLegacyStore._shouldUpdateTheCache,
                            __KSTextReplacementLegacyStore._suspendedForAccountChange,
                            __KSTextReplacementLegacyStore._ubiquityStoreLoadStartTime,
                            __KSTextReplacementLegacyStore._ubiquityStoreLoaded,
                            __KSTextReplacementLegacyStore._uptimeTransaction,
                            __KSTextReplacementLegacyStore._workQueue,
                            __KSTextReplacementManager._ckStore,
                            __KSTextReplacementManager._delegate,
                            __KSTextReplacementManager._deviceDidMigrateOnCloud,
                            __KSTextReplacementManager._didCheckMigrationOnCloud,
                            __KSTextReplacementManager._didMigrateForCurrentAccount,
                            __KSTextReplacementManager._directoryPath,
                            __KSTextReplacementManager._legacyStore,
                            __KSTextReplacementManager._migrationQueue,
                            __KSTextReplacementManager._textReplacementStore,
                            __KSTextReplacementServer._daemonClient,
                            __KSTextReplacementServer._directoryPath,
                            __KSTextReplacementServer._listener,
                            __KSTextReplacementServer._pushConnection,
                            __KSTextReplacementServer._textReplacementManager,
                            __KSTextReplacementServer._workQueue,
                            __KSTextReplacementServerConnection._serviceConnection,
                            __KSUserWordsInfo._file,
                            __KSUserWordsInfo._modifiedDate,
                            __KSUserWordsInfo._size,
                            __KSUserWordsSynchroniser._attemptingConnection,
                            __KSUserWordsSynchroniser._cloudKitManager,
                            __KSUserWordsSynchroniser._controlFile,
                            __KSUserWordsSynchroniser._identityThrottle,
                            __KSUserWordsSynchroniser._languagesIfOffline,
                            __KSUserWordsSynchroniser._needRetry,
                            __KSUserWordsSynchroniser._pushTask,
                            __KSUserWordsSynchroniser._retryPending,
                            __KSUserWordsSynchroniser._taskRun,
                            __KSUserWordsSynchroniser._workQueue,
                            __KSiCloudDeviceListMonitor._account,
                            __KSiCloudDeviceListMonitor._accountStore,
                            __KSiCloudDeviceListMonitor._majorVersForCloudKitSyncMacOS,
                            __KSiCloudDeviceListMonitor._majorVersForCloudKitSynciOS,
                            __KSiCloudDeviceListMonitor._minorSubversionForCloudKitSyncMacOS,
                            __KSiCloudDeviceListMonitor._minorVersForCloudKitSyncMacOS,
                            __KSiCloudDeviceListMonitor._minorVersForCloudKitSynciOS ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _ADClientAddValueForScalarKey,
                            _ADClientClearScalarKey,
                            _ADClientPushValueForDistributionKey,
                            _ADClientSetValueForScalarKey,
                            _APSEnvironmentProduction, _CCHmac, _CC_MD5,
                            _CEMStringContainsEmoji, _CFArrayGetTypeID,
                            _CFGetTypeID, _CFNotificationCenterAddObserver,
                            _CFNotificationCenterGetDarwinNotifyCenter,
                            _CFNotificationCenterRemoveEveryObserver,
                            _CFNotificationCenterRemoveObserver,
                            _CFPreferencesAppSynchronize,
                            _CFPreferencesCopyAppValue, _CFPreferencesCopyValue,
                            _CFPreferencesGetAppIntegerValue,
                            _CFPreferencesSetAppValue, _CFRelease,
                            _CKAccountChangedNotification, _CKErrorDomain,
                            _CKErrorRetryAfterKey, _CKIdentityUpdateNotification,
                            _CKPartialErrorsByItemIDKey,
                            _CKRecordChangedErrorAncestorRecordKey,
                            _CKRecordChangedErrorClientRecordKey,
                            _CKRecordChangedErrorServerRecordKey,
                            _MKBDeviceFormattedForContentProtection,
                            _NSFileHandleOperationException,
                            _NSFileProtectionCompleteUntilFirstUserAuthentication,
                            _NSFileProtectionKey,
                            _NSInferMappingModelAutomaticallyOption,
                            _NSInsertedObjectsKey,
                            _NSInternalInconsistencyException,
                            _NSLocaleLanguageCode, _NSLocaleScriptCode,
                            _NSLocalizedFailureReasonErrorKey, _NSLog,
                            _NSMergeByPropertyObjectTrumpMergePolicy,
                            _NSMigratePersistentStoresAutomaticallyOption,
                            _NSPersistentStoreCoordinatorStoresDidChangeNotification,
                            _NSPersistentStoreCoordinatorStoresWillChangeNotification,
                            _NSPersistentStoreDidImportUbiquitousContentChangesNotification,
                            _NSPersistentStoreUbiquitousContainerIdentifierKey,
                            _NSPersistentStoreUbiquitousContentNameKey,
                            _NSPersistentStoreUbiquitousContentURLKey,
                            _NSRangeException, _NSReadOnlyPersistentStoreOption,
                            _NSSQLiteErrorDomain, _NSSQLiteStoreType,
                            _NSStringFromClass, _NSTemporaryDirectory,
                            _NSURLContentModificationDateKey,
                            _NSURLIsExcludedFromBackupKey,
                            _NSUbiquityIdentityDidChangeNotification,
                            _OBJC_EHTYPE_$_NSException,
                            _SCNetworkReachabilityCreateWithName,
                            _SCNetworkReachabilityGetFlags,
                            _SCNetworkReachabilitySetCallback,
                            _SCNetworkReachabilitySetDispatchQueue,
                            _SecRandomCopyBytes, _XPC_ACTIVITY_ALLOW_BATTERY,
                            _XPC_ACTIVITY_CHECK_IN, _XPC_ACTIVITY_DELAY,
                            _XPC_ACTIVITY_INTERVAL, _XPC_ACTIVITY_PRIORITY,
                            _XPC_ACTIVITY_PRIORITY_UTILITY,
                            _XPC_ACTIVITY_REPEATING,
                            _XPC_ACTIVITY_REQUIRES_CLASS_C,
                            _XPC_ACTIVITY_REQUIRE_NETWORK_CONNECTIVITY,
                            _XPC_ACTIVITY_REQUIRE_SCREEN_SLEEP,
                            __Block_object_assign, __Block_object_dispose,
                            __NSConcreteGlobalBlock, __NSConcreteStackBlock,
                            __Unwind_Resume, ___CFConstantStringClassReference,
                            ___NSArray0__, ___NSDictionary0__, ___chkstk_darwin,
                            ___error, ___objc_personality_v0, ___stack_chk_fail,
                            ___stack_chk_guard, __dispatch_main_q,
                            __objc_empty_cache, __os_log_debug_impl,
                            __os_log_default, __os_log_error_impl, __os_log_impl,
                            _close, _closedir, _dispatch_after,
                            _dispatch_assert_queue$V2,
                            _dispatch_assert_queue_not$V2, _dispatch_async,
                            _dispatch_get_global_queue, _dispatch_group_create,
                            _dispatch_group_enter, _dispatch_group_leave,
                            _dispatch_group_notify, _dispatch_group_wait,
                            _dispatch_once,
                            _dispatch_queue_attr_make_with_autorelease_frequency,
                            _dispatch_queue_attr_make_with_qos_class,
                            _dispatch_queue_create, _dispatch_resume,
                            _dispatch_semaphore_create,
                            _dispatch_semaphore_signal, _dispatch_semaphore_wait,
                            _dispatch_suspend, _dispatch_sync, _dispatch_time,
                            _dlopen, _dlsym, _exp2, _fcntl, _free, _getpid, _getxattr,
                            _kCFAllocatorDefault, _kCFBooleanTrue,
                            _kCFPreferencesAnyApplication,
                            _kCFPreferencesAnyHost, _kCFPreferencesCurrentUser,
                            _kSecRandomDefault, _listxattr, _malloc, _mkdir,
                            _notify_post, _objc_alloc, _objc_alloc_init,
                            _objc_autorelease, _objc_autoreleasePoolPop,
                            _objc_autoreleasePoolPush,
                            _objc_autoreleaseReturnValue, _objc_begin_catch,
                            _objc_copyWeak, _objc_destroyWeak, _objc_end_catch,
                            _objc_enumerationMutation, _objc_getProperty,
                            _objc_initWeak, _objc_loadWeakRetained, _objc_msgSend,
                            _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_opt_new,
                            _objc_opt_respondsToSelector, _objc_release,
                            _objc_retain, _objc_retainAutorelease,
                            _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_retainBlock, _objc_setProperty_nonatomic_copy,
                            _objc_storeStrong, _objc_storeWeak, _objc_sync_enter,
                            _objc_sync_exit,
                            _objc_unsafeClaimAutoreleasedReturnValue, _open,
                            _open_dprotected_np, _opendir, _os_log_type_enabled,
                            _os_transaction_create, _proc_set_cpumon_defaults,
                            _proc_set_cpumon_params, _qos_class_self, _readdir,
                            _setxattr, _stat, _strcmp, _strerror, _unlink,
                            _uset_containsAllCodePoints, _uset_openPattern, _write,
                            _xpc_activity_get_state, _xpc_activity_register,
                            _xpc_activity_set_criteria, _xpc_activity_set_state,
                            _xpc_activity_should_defer, _xpc_activity_unregister,
                            _xpc_bool_create, _xpc_dictionary_create,
                            _xpc_int64_create, _xpc_string_create,
                            _xpc_transaction_begin, _xpc_transaction_end ]
    objc-classes:         [ _AACloudKitDevicesListRequest, _AADeviceListRequest,
                            _ACAccountStore, _APSConnection, _CKAsset, _CKContainer,
                            _CKContainerID, _CKFetchRecordZoneChangesOperation,
                            _CKFetchRecordZoneChangesOptions,
                            _CKFetchRecordZonesOperation,
                            _CKFetchRecordsOperation,
                            _CKModifyRecordZonesOperation,
                            _CKModifyRecordsOperation,
                            _CKModifySubscriptionsOperation, _CKNotification,
                            _CKNotificationInfo, _CKPrettyError, _CKRecord,
                            _CKRecordID, _CKRecordZone, _CKRecordZoneSubscription,
                            _CKServerChangeToken, _NSArray, _NSBatchDeleteRequest,
                            _NSBundle, _NSCharacterSet, _NSCompoundPredicate,
                            _NSData, _NSDate, _NSDictionary, _NSEntityDescription,
                            _NSError, _NSException, _NSExpression,
                            _NSExpressionDescription, _NSFetchRequest,
                            _NSFileManager, _NSKeyedArchiver, _NSKeyedUnarchiver,
                            _NSLocale, _NSManagedObject, _NSManagedObjectContext,
                            _NSManagedObjectModel, _NSMutableArray,
                            _NSMutableDictionary, _NSMutableSet, _NSMutableString,
                            _NSNotificationCenter, _NSNumber, _NSObject,
                            _NSPersistentStoreCoordinator, _NSPredicate,
                            _NSPropertyListSerialization, _NSScanner, _NSSet,
                            _NSSortDescriptor, _NSString, _NSURL, _NSUUID,
                            _NSUserDefaults, _NSValue, _NSXPCConnection,
                            _NSXPCInterface, _NSXPCListener ]
...
